This directory contains scripts and macros for extracting time
averaged velocity profiles from lesgo to compare to the 
experimental data of flow over an array of cubes from Meinders 
et al. See

http://tmdb.ws.tn.tudelft.nl/workshop8/case6_2/case6_2.html

for information regarding experimental setup.

**** How to use ****

1) Process lesgo output data

Copy the contents of lesgo in this directory to the output directory 
of the lesgo run (this will be called $LESGO_OUTPUT). The script 
process-data.sh is used to process all the data. Before executing, 
several parameters must be set in the script:

MPI Settings:
  MPIMERGE : {0|1}; set 1 if lesgo was ran in MPI mode; 0 otherwise
  NPROC    : number of MPI processes; only used if MPIMERGE=1

Cube Zeroing: these flags are used to zero a cube in the domain to (0,0)
  XOFFSET : x-distance to subtract to zero a cube in the domain
  YOFFSET : y-distance to subtract to zero a cube in the domain

Spatial dimensions
  Nx, XMIN, XMAX : x-dimension and domain bounds
  Ny, YMIN, YMAX : y-dimension and domain bounds
  Nz, ZMIN, ZMAX : z-dimension (Nz_tot of lesgo) and domain bounds (z on uv-grid)

Velocity spatial scale:
  Us : scaling for x-velocity in final profiles (default 0.4)
  Vs : scaling for y-velocity in final profiles (default 1.2)

Once these parameters are adjusted accordingly simply run

./process-data.sh

Numerous files are generated during the exection of the script, but the ones of 
interest are:

  vel_scaled_y-0.dat
  vel_scaled_z-0.5.dat

which contain the scaled velocity data and

  force_tot.dat 

which contains the integrated (over all cubes) raw IBM force.

2) Process data from Meinders et al., 1996

Copy the case6_2 directory (unpacked from case6_2.tar.gz) containing the 
experimental data to $LESGO_OUTPUT.  Now copy the contents of case6_2 in 
this directory to $LESGO_OUTPUT/case6_2. To process the data run:

./process-data.sh

from $LESGO_OUTPUT/case6_2.

**** Plotting ****

Plotting is performed using Tecplot with the layout files in the directory 
plotting. Simply copy the contents of plotting in this directory to $LESGO_OUTPUT.
For each of the layout files, $LAYOUT, exectute:

tec360 $LAYOUT

to generate the profiles for comparison.
