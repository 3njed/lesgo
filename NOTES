Copyright (C) 2009,2011,2013  Johns Hopkins University

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.  This file is offered as-is,
without any warranty.


1. The averaged values in io.f90 are averaged across the y-direction
   for each x-location in each z-plane. 

2. Averaged values are only written when use_avgslice = .true. and
   mod(jt_total,c_count)==0.

3. ke is the average of the domain

4. P_COUNT determines the number of iterations with which to skip
   when writing averaged values.

5. Due to the FFT algorithm performed, Nx and Ny must be positive 
   integers of 2; no limitation exists on Nz

6. The mesh is staggered in the vertical direction with w stored between
   the other variables.

7. Albertsons dissertation mentions that it currently uses 2nd order finite differencing
   but plans on a future implementation of Chebyshev's method with preconditioning.

8. "To use the level set modules in a simulation, a file "phi.out" containing 
   the signed distance function data must be created first.  This must be 
   generated with a separate program, see the program in "trees_pre_ls.f90" 
   for making the tree level set files." SC

   "I recommend making the signed distance function exact if possible, or at
   least sampled at a higher resolution than the computational grid." SC

9. Value arrays (don't know a better name at the time) are being used to 
   read in the information from trees.conf. It may be more advantageous
   to put this information in a namelist and read directly. The function
   'case' is used to grab the information from the conf file.

10. "The surface shear stress is computed over the bottom boundary as a function
    of local roughness length (zo)", or z_i as used in the code, "and near surface
    resolved velocity by integrating the logarithmic velocity gradient from z=zo
    to the height of the first node above the wall" Albertson

11. Structures larger than Δx are explicitly calculated (resolved
    scales). Structures smaller than Δx must be filtered out (subgrid scales),
    formally known as low-pass filtering.

12.  Reynolds averaging:  
     a. split variables in mean part and fluctuation
     b. spatially average the model equations

13. The filter procedure removes the small scales from the model
    equations, but it produces new unknowns, mainly averages of 
    fluctuation products. These unknowns have to be parameterized 
    using information from the resolved scales.

14. The issue with the non-physical rms of the velocity field was
    tracked down to the logical flag inflow; this value must be false
    for the calculations to be performed properly. The actual cause 
    of the erroneous calculation is not yet known. 

15. The files "output/vel',jt_total,'.out", "output/txz',jt_total,'.out",
    and "output/f', jt_total, '.out" are create every interval of base.

   "output/vel',jt_total,'.out" contains:

   With Scalars
   u(:, :, 1:nz), v(:, :, 1:nz), w(:, :, 1:nz), 
   RHSx(:, :, 1:nz), RHSy(:, :, 1:nz), RHSz(:, :, 1:nz),
   Cs_opt2, F_LM, F_MM, F_QN, F_NN, theta, RHS_T

   No Scalars
   u(:, :, 1:nz), v(:, :, 1:nz), w(:, :, 1:nz),
   RHSx(:, :, 1:nz), RHSy(:, :, 1:nz), RHSz(:, :, 1:nz),
   Cs_opt2, F_LM, F_MM, F_QN, F_NN

   "output/txz',jt_total,'.out" contains:
   txz(:, :, 1:nz)

   "output/f', jt_total, '.out" contains:
   fx(:, :, 1:nz), fy(:, :, 1:nz), fz(:, :, 1:nz)

16. U infinity is defined as the average U velocity at the inflow 
    plane in level_set.f90.

17. 2011-04-15: It has been noted that a possible bug in the Intel
    Fortran compiler results in segmentation faults for larger 
    domains. This issue has manifest itself with sgs_stag(), 
    the turbines subroutines, interpolation functions, and
    when writing arrays to file. It has been found that GNU gfortran 
    (version 4.4+) and PGI pgfortran (version 11.3) work fine 
    even for really large domain. Therefore, due to the availability of
    GNU gcc, g++, gfortran, etc.- which lends itself nicely for 
    reasons of portability - GNU gfortran is currently the defacto
    compiler for lesgo. This just means that if a decision is
    to be made based on the capability of a compiler, gfortran
    will have priority.

====== DEVELOPMENT ======

1. 2011-09-13: All of the original "buildings" immersed boundary modeling has
   been deemed deprecated and thus removed. To obtain the latest code before the
   remove refer to CVS tag:

     pre_immersedbc_buildings_remove

2. 2011-09-15: All of the original scalar calculations have been removed. The
   scalar calculations were removed since they 1) are not currently being used
   and 2) should, if reimplemented, be done in a consistent way with the current
   coding constructs of lesgo. To obtain the latest code before the remove refer
   to CVS tag:

     pre_scalar_calculations_remove

3. 2013-10-10: Updated version of the code, which now compiles well with Gfortran
   compiler 4.8.1. Many compiler warnings have been fixed.






