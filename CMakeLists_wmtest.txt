cmake_minimum_required(VERSION 2.8.9)

# Project details
enable_language (Fortran)
project (test)
set(exec_name "test")

# Library links
link_libraries(fftw3 blas lapack)    

# Common include and link directories
include_directories(/usr/local/include)
link_directories(/usr/local/lib)

# List common sources
set (Sources test.f90 types.f90 wake_model.f90 param.f90 util.f90 messages.f90 string_util.f90 open_file.f90 init_random_seed.f90 rh_control.f90 minimize.f90 functions.f90 grid.f90 sim_param.f90 lbfgsb.f linpack.f timer.f)

set (CMAKE_Fortran_FLAGS "-cpp -O2 -ffast-math -funroll-loops -fall-intrinsics -fexternal-blas -Wall -framework Accelerate")

# main lesgo executable
add_executable(${exec_name} ${Sources})

